<!DOCTYPE html>
<head>
  <title>{{- .Blog.Title -}}</title>

  <meta charset="utf-8" />
  <meta name="author" content="{{- .Config.Author -}}" />
  <meta name="generator" content="{{- .Config.Project -}}" />

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css"
  />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.min.js"></script>
  <style>
    // prettier-ignore
    {{ .Style | indent 4 | css }}
  </style>
</head>

<body>
  <div class="box container-fluid">
    <div class="row flex-nowrap">
      {{ if .Summary }}
      <div class="sidebar col-auto col-md-3 col-xl-2">
        <div
          class="d-flex flex-column align-items-sm-start text-white text-truncate"
        >
          <a href="#" class="text-white text-decoration-none">
            <h4 class="d-none d-md-inline">Summary</h4>
          </a>

          <ul class="nav nav-pills flex-column align-items-sm-start">
            {{ range $category := .Summary }}
            <li class="nav-item">
              <a
                href="#category-{{- $category.Key -}}"
                class="nav-link text-white text-decoration-none"
                data-bs-toggle="collapse"
              >
                <span class="d-none d-md-inline">{{- $category.Key -}}</span>
              </a>

              <ul
                id="category-{{- $category.Key -}}"
                class="collapse nav nav-pills flex-column align-items-start"
              >
                {{ range $blog := $category.Blogs }}
                <li class="nav-item w-100">
                  <a
                    href="{{- $blog.Output -}}"
                    class="nav-link text-white text-decoration-none"
                  >
                    <span class="d-none d-md-inline mx-3 text-nowrap"
                      >{{- $blog.Title -}}</span
                    >
                  </a>
                </li>
                {{ end }}
              </ul>
            </li>
            {{ end }}
          </ul>
        </div>
      </div>
      {{ end }}

      <div class="blog col py-3">
        <!-- prettier-ignore -->
        <!-- NOTE DO NOT indent the html which <code> may broken the syntax -->
        {{ .Blog.HTML | safe }}

        <div class="d-flex justify-content-between m-2 text-muted">
          <!-- prettier-ignore -->
          <span class="mx-2">
            <label class="mx-2 fw-bold">Created At: </label>
            {{- .Blog.CreatedAt.UTC.Format "2006 Jan 02 15:04 UTC" -}}
          </span>
          <span
            class="mx-2 {{ if ( .Blog.UpdatedAt.Equal .Blog.CreatedAt ) }}d-none{{ end }}"
          >
            <label class="mx-2 fw-bold">Updated At: </label>
            {{- .Blog.UpdatedAt.UTC.Format "2006 Jan 02 15:04 UTC" -}}
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="fixed-bottom text-center text-muted overflow-hidden">
    Copyright (C) 2017-{{- .UTCNow.Year }} cmj@cmj.tw
  </footer>
</body>
